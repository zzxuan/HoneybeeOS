     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_init_gdtidt
     7 00000000                                 	EXTERN	_init_pic
     8 00000000                                 	EXTERN	_io_sti
     9 00000000                                 	EXTERN	_keyfifo
    10 00000000                                 	EXTERN	_fifo8_init
    11 00000000                                 	EXTERN	_mousefifo
    12 00000000                                 	EXTERN	_init_pit
    13 00000000                                 	EXTERN	_io_out8
    14 00000000                                 	EXTERN	_init_keyboard
    15 00000000                                 	EXTERN	_enable_mouse
    16 00000000                                 	EXTERN	_settimer
    17 00000000                                 	EXTERN	_memtest
    18 00000000                                 	EXTERN	_memman_init
    19 00000000                                 	EXTERN	_memman_free
    20 00000000                                 	EXTERN	_init_palette
    21 00000000                                 	EXTERN	_shtctl_init
    22 00000000                                 	EXTERN	_sheet_alloc
    23 00000000                                 	EXTERN	_memman_alloc_4k
    24 00000000                                 	EXTERN	_sheet_setbuf
    25 00000000                                 	EXTERN	_init_screen8
    26 00000000                                 	EXTERN	_init_mouse_cursor8
    27 00000000                                 	EXTERN	_sheet_slide
    28 00000000                                 	EXTERN	_sheet_updown
    29 00000000                                 	EXTERN	_sprintf
    30 00000000                                 	EXTERN	_putfonts8_asc
    31 00000000                                 	EXTERN	_memman_total
    32 00000000                                 	EXTERN	_sheet_refresh
    33 00000000                                 	EXTERN	_timerctl
    34 00000000                                 	EXTERN	_boxfill8
    35 00000000                                 	EXTERN	_io_cli
    36 00000000                                 	EXTERN	_fifo8_status
    37 00000000                                 	EXTERN	_fifo8_get
    38 00000000                                 	EXTERN	_mouse_decode
    39 00000000                                 [FILE "bootpack.c"]
    40                                          [SECTION .data]
    41 00000000                                 LC0:
    42 00000000 48 6F 6E 65 79 62 65 65 4F 53   	DB	"HoneybeeOS",0x00
       0000000A 00 
    43 0000000B                                 LC1:
    44 0000000B 28 25 64 2C 20 25 64 29 00      	DB	"(%d, %d)",0x00
    45 00000014                                 LC2:
    46 00000014 6D 65 6D 6F 72 79 20 25 64 4D   	DB	"memory %dMB   free : %dKB",0x00
       0000001E 42 20 20 20 66 72 65 65 20 3A 
       00000028 20 25 64 4B 42 00 
    47 0000002E                                 LC3:
    48 0000002E 25 30 31 30 64 00               	DB	"%010d",0x00
    49 00000034                                 LC7:
    50 00000034 31 30 5B 73 65 63 5D 00         	DB	"10[sec]",0x00
    51 0000003C                                 LC5:
    52 0000003C 5B 6C 63 72 20 25 34 64 20 25   	DB	"[lcr %4d %4d]",0x00
       00000046 34 64 5D 00 
    53 0000004A                                 LC6:
    54 0000004A 28 25 33 64 20 25 33 64 29 00   	DB	"(%3d %3d)",0x00
    55 00000054                                 LC4:
    56 00000054 25 30 32 58 00                  	DB	"%02X",0x00
    57                                          [SECTION .text]
    58 00000000                                 	GLOBAL	_HariMain
    59 00000000                                 _HariMain:
    60 00000000 55                              	PUSH	EBP
    61 00000001 89 E5                           	MOV	EBP,ESP
    62 00000003 57                              	PUSH	EDI
    63 00000004 56                              	PUSH	ESI
    64 00000005 53                              	PUSH	EBX
    65 00000006 8D 9D FFFFFD04                  	LEA	EBX,DWORD [-764+EBP]
    66 0000000C 81 EC 00000328                  	SUB	ESP,808
    67 00000012 E8 [00000000]                   	CALL	_init_gdtidt
    68 00000017 E8 [00000000]                   	CALL	_init_pic
    69 0000001C E8 [00000000]                   	CALL	_io_sti
    70 00000021 8D 85 FFFFFEA4                  	LEA	EAX,DWORD [-348+EBP]
    71 00000027 50                              	PUSH	EAX
    72 00000028 6A 20                           	PUSH	32
    73 0000002A 68 [00000000]                   	PUSH	_keyfifo
    74 0000002F E8 [00000000]                   	CALL	_fifo8_init
    75 00000034 8D 85 FFFFFE24                  	LEA	EAX,DWORD [-476+EBP]
    76 0000003A 50                              	PUSH	EAX
    77 0000003B 68 00000080                     	PUSH	128
    78 00000040 68 [00000000]                   	PUSH	_mousefifo
    79 00000045 E8 [00000000]                   	CALL	_fifo8_init
    80 0000004A 8D 85 FFFFFCEC                  	LEA	EAX,DWORD [-788+EBP]
    81 00000050 50                              	PUSH	EAX
    82 00000051 6A 08                           	PUSH	8
    83 00000053 53                              	PUSH	EBX
    84 00000054 E8 [00000000]                   	CALL	_fifo8_init
    85 00000059 83 C4 24                        	ADD	ESP,36
    86 0000005C E8 [00000000]                   	CALL	_init_pit
    87 00000061 68 000000F8                     	PUSH	248
    88 00000066 6A 21                           	PUSH	33
    89 00000068 E8 [00000000]                   	CALL	_io_out8
    90 0000006D 68 000000EF                     	PUSH	239
    91 00000072 68 000000A1                     	PUSH	161
    92 00000077 E8 [00000000]                   	CALL	_io_out8
    93 0000007C E8 [00000000]                   	CALL	_init_keyboard
    94 00000081 8D 85 FFFFFCF4                  	LEA	EAX,DWORD [-780+EBP]
    95 00000087 50                              	PUSH	EAX
    96 00000088 E8 [00000000]                   	CALL	_enable_mouse
    97 0000008D 6A 01                           	PUSH	1
    98 0000008F 53                              	PUSH	EBX
    99 00000090 68 000003E8                     	PUSH	1000
   100 00000095 E8 [00000000]                   	CALL	_settimer
   101 0000009A 83 C4 20                        	ADD	ESP,32
   102 0000009D 68 BFFFFFFF                     	PUSH	-1073741825
   103 000000A2 68 00400000                     	PUSH	4194304
   104 000000A7 E8 [00000000]                   	CALL	_memtest
   105 000000AC 68 003C0000                     	PUSH	3932160
   106 000000B1 89 C6                           	MOV	ESI,EAX
   107 000000B3 E8 [00000000]                   	CALL	_memman_init
   108 000000B8 68 0009E000                     	PUSH	647168
   109 000000BD 68 00001000                     	PUSH	4096
   110 000000C2 68 003C0000                     	PUSH	3932160
   111 000000C7 E8 [00000000]                   	CALL	_memman_free
   112 000000CC 8D 86 FFC00000                  	LEA	EAX,DWORD [-4194304+ESI]
   113 000000D2 C1 EE 14                        	SHR	ESI,20
   114 000000D5 50                              	PUSH	EAX
   115 000000D6 68 00400000                     	PUSH	4194304
   116 000000DB 68 003C0000                     	PUSH	3932160
   117 000000E0 E8 [00000000]                   	CALL	_memman_free
   118 000000E5 83 C4 24                        	ADD	ESP,36
   119 000000E8 E8 [00000000]                   	CALL	_init_palette
   120 000000ED 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   121 000000F4 50                              	PUSH	EAX
   122 000000F5 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   123 000000FC 50                              	PUSH	EAX
   124 000000FD FF 35 00000FF8                  	PUSH	DWORD [4088]
   125 00000103 68 003C0000                     	PUSH	3932160
   126 00000108 E8 [00000000]                   	CALL	_shtctl_init
   127 0000010D 89 C3                           	MOV	EBX,EAX
   128 0000010F 50                              	PUSH	EAX
   129 00000110 E8 [00000000]                   	CALL	_sheet_alloc
   130 00000115 53                              	PUSH	EBX
   131 00000116 89 85 FFFFFCE4                  	MOV	DWORD [-796+EBP],EAX
   132 0000011C E8 [00000000]                   	CALL	_sheet_alloc
   133 00000121 53                              	PUSH	EBX
   134 00000122 8D 9D FFFFFD24                  	LEA	EBX,DWORD [-732+EBP]
   135 00000128 89 85 FFFFFCE0                  	MOV	DWORD [-800+EBP],EAX
   136 0000012E E8 [00000000]                   	CALL	_sheet_alloc
   137 00000133 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
   138 0000013A 89 85 FFFFFCDC                  	MOV	DWORD [-804+EBP],EAX
   139 00000140 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   140 00000147 0F AF C2                        	IMUL	EAX,EDX
   141 0000014A 50                              	PUSH	EAX
   142 0000014B 68 003C0000                     	PUSH	3932160
   143 00000150 E8 [00000000]                   	CALL	_memman_alloc_4k
   144 00000155 83 C4 24                        	ADD	ESP,36
   145 00000158 68 00002080                     	PUSH	8320
   146 0000015D 89 85 FFFFFCD8                  	MOV	DWORD [-808+EBP],EAX
   147 00000163 68 003C0000                     	PUSH	3932160
   148 00000168 E8 [00000000]                   	CALL	_memman_alloc_4k
   149 0000016D 6A FF                           	PUSH	-1
   150 0000016F 89 85 FFFFFCD4                  	MOV	DWORD [-812+EBP],EAX
   151 00000175 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   152 0000017C 50                              	PUSH	EAX
   153 0000017D 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   154 00000184 50                              	PUSH	EAX
   155 00000185 FF B5 FFFFFCD8                  	PUSH	DWORD [-808+EBP]
   156 0000018B FF B5 FFFFFCE4                  	PUSH	DWORD [-796+EBP]
   157 00000191 E8 [00000000]                   	CALL	_sheet_setbuf
   158 00000196 6A 63                           	PUSH	99
   159 00000198 6A 10                           	PUSH	16
   160 0000019A 6A 10                           	PUSH	16
   161 0000019C 53                              	PUSH	EBX
   162 0000019D FF B5 FFFFFCE0                  	PUSH	DWORD [-800+EBP]
   163 000001A3 E8 [00000000]                   	CALL	_sheet_setbuf
   164 000001A8 83 C4 30                        	ADD	ESP,48
   165 000001AB 6A FF                           	PUSH	-1
   166 000001AD 6A 34                           	PUSH	52
   167 000001AF 68 000000A0                     	PUSH	160
   168 000001B4 FF B5 FFFFFCD4                  	PUSH	DWORD [-812+EBP]
   169 000001BA FF B5 FFFFFCDC                  	PUSH	DWORD [-804+EBP]
   170 000001C0 E8 [00000000]                   	CALL	_sheet_setbuf
   171 000001C5 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   172 000001CC 50                              	PUSH	EAX
   173 000001CD 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   174 000001D4 50                              	PUSH	EAX
   175 000001D5 FF B5 FFFFFCD8                  	PUSH	DWORD [-808+EBP]
   176 000001DB E8 [00000000]                   	CALL	_init_screen8
   177 000001E0 83 C4 20                        	ADD	ESP,32
   178 000001E3 6A 63                           	PUSH	99
   179 000001E5 53                              	PUSH	EBX
   180 000001E6 BB 00000002                     	MOV	EBX,2
   181 000001EB E8 [00000000]                   	CALL	_init_mouse_cursor8
   182 000001F0 68 [00000000]                   	PUSH	LC0
   183 000001F5 6A 34                           	PUSH	52
   184 000001F7 68 000000A0                     	PUSH	160
   185 000001FC FF B5 FFFFFCD4                  	PUSH	DWORD [-812+EBP]
   186 00000202 E8 00000428                     	CALL	_make_window8
   187 00000207 6A 00                           	PUSH	0
   188 00000209 6A 00                           	PUSH	0
   189 0000020B FF B5 FFFFFCE4                  	PUSH	DWORD [-796+EBP]
   190 00000211 E8 [00000000]                   	CALL	_sheet_slide
   191 00000216 83 C4 24                        	ADD	ESP,36
   192 00000219 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   193 00000220 8D 48 F0                        	LEA	ECX,DWORD [-16+EAX]
   194 00000223 89 C8                           	MOV	EAX,ECX
   195 00000225 99                              	CDQ
   196 00000226 F7 FB                           	IDIV	EBX
   197 00000228 89 85 FFFFFCE8                  	MOV	DWORD [-792+EBP],EAX
   198 0000022E 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   199 00000235 8D 48 D4                        	LEA	ECX,DWORD [-44+EAX]
   200 00000238 89 C8                           	MOV	EAX,ECX
   201 0000023A 99                              	CDQ
   202 0000023B F7 FB                           	IDIV	EBX
   203 0000023D 50                              	PUSH	EAX
   204 0000023E 89 C7                           	MOV	EDI,EAX
   205 00000240 FF B5 FFFFFCE8                  	PUSH	DWORD [-792+EBP]
   206 00000246 FF B5 FFFFFCE0                  	PUSH	DWORD [-800+EBP]
   207 0000024C 8D 5D C4                        	LEA	EBX,DWORD [-60+EBP]
   208 0000024F E8 [00000000]                   	CALL	_sheet_slide
   209 00000254 6A 48                           	PUSH	72
   210 00000256 6A 50                           	PUSH	80
   211 00000258 FF B5 FFFFFCDC                  	PUSH	DWORD [-804+EBP]
   212 0000025E E8 [00000000]                   	CALL	_sheet_slide
   213 00000263 6A 00                           	PUSH	0
   214 00000265 FF B5 FFFFFCE4                  	PUSH	DWORD [-796+EBP]
   215 0000026B E8 [00000000]                   	CALL	_sheet_updown
   216 00000270 83 C4 20                        	ADD	ESP,32
   217 00000273 6A 01                           	PUSH	1
   218 00000275 FF B5 FFFFFCDC                  	PUSH	DWORD [-804+EBP]
   219 0000027B E8 [00000000]                   	CALL	_sheet_updown
   220 00000280 6A 02                           	PUSH	2
   221 00000282 FF B5 FFFFFCE0                  	PUSH	DWORD [-800+EBP]
   222 00000288 E8 [00000000]                   	CALL	_sheet_updown
   223 0000028D 57                              	PUSH	EDI
   224 0000028E FF B5 FFFFFCE8                  	PUSH	DWORD [-792+EBP]
   225 00000294 68 [0000000B]                   	PUSH	LC1
   226 00000299 53                              	PUSH	EBX
   227 0000029A E8 [00000000]                   	CALL	_sprintf
   228 0000029F 83 C4 20                        	ADD	ESP,32
   229 000002A2 53                              	PUSH	EBX
   230 000002A3 6A 07                           	PUSH	7
   231 000002A5 6A 00                           	PUSH	0
   232 000002A7 6A 00                           	PUSH	0
   233 000002A9 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   234 000002B0 50                              	PUSH	EAX
   235 000002B1 FF B5 FFFFFCD8                  	PUSH	DWORD [-808+EBP]
   236 000002B7 E8 [00000000]                   	CALL	_putfonts8_asc
   237 000002BC 68 003C0000                     	PUSH	3932160
   238 000002C1 E8 [00000000]                   	CALL	_memman_total
   239 000002C6 C1 E8 0A                        	SHR	EAX,10
   240 000002C9 89 04 24                        	MOV	DWORD [ESP],EAX
   241 000002CC 56                              	PUSH	ESI
   242 000002CD 68 [00000014]                   	PUSH	LC2
   243 000002D2 53                              	PUSH	EBX
   244 000002D3 E8 [00000000]                   	CALL	_sprintf
   245 000002D8 83 C4 28                        	ADD	ESP,40
   246 000002DB 53                              	PUSH	EBX
   247 000002DC 6A 07                           	PUSH	7
   248 000002DE 6A 20                           	PUSH	32
   249 000002E0 6A 00                           	PUSH	0
   250 000002E2 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   251 000002E9 50                              	PUSH	EAX
   252 000002EA FF B5 FFFFFCD8                  	PUSH	DWORD [-808+EBP]
   253 000002F0 E8 [00000000]                   	CALL	_putfonts8_asc
   254 000002F5 6A 30                           	PUSH	48
   255 000002F7 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   256 000002FE 50                              	PUSH	EAX
   257 000002FF 6A 00                           	PUSH	0
   258 00000301                                 L20:
   259 00000301 6A 00                           	PUSH	0
   260 00000303 FF B5 FFFFFCE4                  	PUSH	DWORD [-796+EBP]
   261 00000309 E8 [00000000]                   	CALL	_sheet_refresh
   262 0000030E 83 C4 2C                        	ADD	ESP,44
   263 00000311                                 L2:
   264 00000311 FF 35 [00000000]                	PUSH	DWORD [_timerctl]
   265 00000317 68 [0000002E]                   	PUSH	LC3
   266 0000031C 8D 5D C4                        	LEA	EBX,DWORD [-60+EBP]
   267 0000031F 53                              	PUSH	EBX
   268 00000320 8D B5 FFFFFD04                  	LEA	ESI,DWORD [-764+EBP]
   269 00000326 E8 [00000000]                   	CALL	_sprintf
   270 0000032B 6A 2B                           	PUSH	43
   271 0000032D 6A 77                           	PUSH	119
   272 0000032F 6A 1C                           	PUSH	28
   273 00000331 6A 28                           	PUSH	40
   274 00000333 6A 08                           	PUSH	8
   275 00000335 68 000000A0                     	PUSH	160
   276 0000033A FF B5 FFFFFCD4                  	PUSH	DWORD [-812+EBP]
   277 00000340 E8 [00000000]                   	CALL	_boxfill8
   278 00000345 83 C4 28                        	ADD	ESP,40
   279 00000348 53                              	PUSH	EBX
   280 00000349 6A 00                           	PUSH	0
   281 0000034B 6A 1C                           	PUSH	28
   282 0000034D 6A 28                           	PUSH	40
   283 0000034F 68 000000A0                     	PUSH	160
   284 00000354 FF B5 FFFFFCD4                  	PUSH	DWORD [-812+EBP]
   285 0000035A E8 [00000000]                   	CALL	_putfonts8_asc
   286 0000035F 6A 2C                           	PUSH	44
   287 00000361 6A 78                           	PUSH	120
   288 00000363 6A 1C                           	PUSH	28
   289 00000365 6A 28                           	PUSH	40
   290 00000367 FF B5 FFFFFCDC                  	PUSH	DWORD [-804+EBP]
   291 0000036D E8 [00000000]                   	CALL	_sheet_refresh
   292 00000372 83 C4 2C                        	ADD	ESP,44
   293 00000375 E8 [00000000]                   	CALL	_io_cli
   294 0000037A 68 [00000000]                   	PUSH	_keyfifo
   295 0000037F E8 [00000000]                   	CALL	_fifo8_status
   296 00000384 68 [00000000]                   	PUSH	_mousefifo
   297 00000389 89 C3                           	MOV	EBX,EAX
   298 0000038B E8 [00000000]                   	CALL	_fifo8_status
   299 00000390 56                              	PUSH	ESI
   300 00000391 01 C3                           	ADD	EBX,EAX
   301 00000393 E8 [00000000]                   	CALL	_fifo8_status
   302 00000398 83 C4 0C                        	ADD	ESP,12
   303 0000039B 8D 04 18                        	LEA	EAX,DWORD [EAX+EBX*1]
   304 0000039E 85 C0                           	TEST	EAX,EAX
   305 000003A0 0F 84 0000027F                  	JE	L21
   306 000003A6 68 [00000000]                   	PUSH	_keyfifo
   307 000003AB E8 [00000000]                   	CALL	_fifo8_status
   308 000003B0 5B                              	POP	EBX
   309 000003B1 85 C0                           	TEST	EAX,EAX
   310 000003B3 0F 85 00000204                  	JNE	L22
   311 000003B9 68 [00000000]                   	PUSH	_mousefifo
   312 000003BE E8 [00000000]                   	CALL	_fifo8_status
   313 000003C3 59                              	POP	ECX
   314 000003C4 85 C0                           	TEST	EAX,EAX
   315 000003C6 75 53                           	JNE	L23
   316 000003C8 56                              	PUSH	ESI
   317 000003C9 E8 [00000000]                   	CALL	_fifo8_status
   318 000003CE 5A                              	POP	EDX
   319 000003CF 85 C0                           	TEST	EAX,EAX
   320 000003D1 0F 84 FFFFFF3A                  	JE	L2
   321 000003D7 56                              	PUSH	ESI
   322 000003D8 E8 [00000000]                   	CALL	_fifo8_get
   323 000003DD E8 [00000000]                   	CALL	_io_sti
   324 000003E2 68 [00000034]                   	PUSH	LC7
   325 000003E7 6A 07                           	PUSH	7
   326 000003E9 6A 40                           	PUSH	64
   327 000003EB 6A 00                           	PUSH	0
   328 000003ED 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   329 000003F4 50                              	PUSH	EAX
   330 000003F5 FF B5 FFFFFCD8                  	PUSH	DWORD [-808+EBP]
   331 000003FB E8 [00000000]                   	CALL	_putfonts8_asc
   332 00000400 6A 50                           	PUSH	80
   333 00000402 6A 38                           	PUSH	56
   334 00000404 6A 40                           	PUSH	64
   335 00000406 6A 00                           	PUSH	0
   336 00000408 FF B5 FFFFFCE4                  	PUSH	DWORD [-796+EBP]
   337 0000040E E8 [00000000]                   	CALL	_sheet_refresh
   338 00000413 83 C4 30                        	ADD	ESP,48
   339 00000416 E9 FFFFFEF6                     	JMP	L2
   340 0000041B                                 L23:
   341 0000041B 68 [00000000]                   	PUSH	_mousefifo
   342 00000420 E8 [00000000]                   	CALL	_fifo8_get
   343 00000425 89 C3                           	MOV	EBX,EAX
   344 00000427 E8 [00000000]                   	CALL	_io_sti
   345 0000042C 0F B6 C3                        	MOVZX	EAX,BL
   346 0000042F 50                              	PUSH	EAX
   347 00000430 8D 85 FFFFFCF4                  	LEA	EAX,DWORD [-780+EBP]
   348 00000436 50                              	PUSH	EAX
   349 00000437 E8 [00000000]                   	CALL	_mouse_decode
   350 0000043C 83 C4 0C                        	ADD	ESP,12
   351 0000043F 48                              	DEC	EAX
   352 00000440 0F 85 FFFFFECB                  	JNE	L2
   353 00000446 FF B5 FFFFFCFC                  	PUSH	DWORD [-772+EBP]
   354 0000044C FF B5 FFFFFCF8                  	PUSH	DWORD [-776+EBP]
   355 00000452 68 [0000003C]                   	PUSH	LC5
   356 00000457 8D 45 C4                        	LEA	EAX,DWORD [-60+EBP]
   357 0000045A 50                              	PUSH	EAX
   358 0000045B E8 [00000000]                   	CALL	_sprintf
   359 00000460 83 C4 10                        	ADD	ESP,16
   360 00000463 8B 85 FFFFFD00                  	MOV	EAX,DWORD [-768+EBP]
   361 00000469 A9 00000001                     	TEST	EAX,1
   362 0000046E 74 04                           	JE	L11
   363 00000470 C6 45 C5 4C                     	MOV	BYTE [-59+EBP],76
   364 00000474                                 L11:
   365 00000474 A9 00000002                     	TEST	EAX,2
   366 00000479 74 04                           	JE	L12
   367 0000047B C6 45 C7 52                     	MOV	BYTE [-57+EBP],82
   368 0000047F                                 L12:
   369 0000047F 83 E0 04                        	AND	EAX,4
   370 00000482 74 04                           	JE	L13
   371 00000484 C6 45 C6 43                     	MOV	BYTE [-58+EBP],67
   372 00000488                                 L13:
   373 00000488 6A 1F                           	PUSH	31
   374 0000048A 68 00000097                     	PUSH	151
   375 0000048F 6A 10                           	PUSH	16
   376 00000491 6A 20                           	PUSH	32
   377 00000493 6A 0E                           	PUSH	14
   378 00000495 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   379 0000049C 50                              	PUSH	EAX
   380 0000049D FF B5 FFFFFCD8                  	PUSH	DWORD [-808+EBP]
   381 000004A3 E8 [00000000]                   	CALL	_boxfill8
   382 000004A8 8D 55 C4                        	LEA	EDX,DWORD [-60+EBP]
   383 000004AB 52                              	PUSH	EDX
   384 000004AC 6A 07                           	PUSH	7
   385 000004AE 6A 10                           	PUSH	16
   386 000004B0 6A 20                           	PUSH	32
   387 000004B2 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   388 000004B9 50                              	PUSH	EAX
   389 000004BA FF B5 FFFFFCD8                  	PUSH	DWORD [-808+EBP]
   390 000004C0 E8 [00000000]                   	CALL	_putfonts8_asc
   391 000004C5 83 C4 34                        	ADD	ESP,52
   392 000004C8 6A 20                           	PUSH	32
   393 000004CA 68 00000098                     	PUSH	152
   394 000004CF 6A 10                           	PUSH	16
   395 000004D1 6A 20                           	PUSH	32
   396 000004D3 FF B5 FFFFFCE4                  	PUSH	DWORD [-796+EBP]
   397 000004D9 E8 [00000000]                   	CALL	_sheet_refresh
   398 000004DE 8B 9D FFFFFCF8                  	MOV	EBX,DWORD [-776+EBP]
   399 000004E4 03 BD FFFFFCFC                  	ADD	EDI,DWORD [-772+EBP]
   400 000004EA 83 C4 14                        	ADD	ESP,20
   401 000004ED 01 9D FFFFFCE8                  	ADD	DWORD [-792+EBP],EBX
   402 000004F3 0F 88 000000B5                  	JS	L24
   403 000004F9                                 L14:
   404 000004F9 85 FF                           	TEST	EDI,EDI
   405 000004FB 0F 88 000000A6                  	JS	L25
   406 00000501                                 L15:
   407 00000501 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   408 00000508 48                              	DEC	EAX
   409 00000509 39 85 FFFFFCE8                  	CMP	DWORD [-792+EBP],EAX
   410 0000050F 7E 06                           	JLE	L16
   411 00000511 89 85 FFFFFCE8                  	MOV	DWORD [-792+EBP],EAX
   412 00000517                                 L16:
   413 00000517 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   414 0000051E 48                              	DEC	EAX
   415 0000051F 39 C7                           	CMP	EDI,EAX
   416 00000521 7E 02                           	JLE	L17
   417 00000523 89 C7                           	MOV	EDI,EAX
   418 00000525                                 L17:
   419 00000525 57                              	PUSH	EDI
   420 00000526 8D 45 C4                        	LEA	EAX,DWORD [-60+EBP]
   421 00000529 FF B5 FFFFFCE8                  	PUSH	DWORD [-792+EBP]
   422 0000052F 68 [0000004A]                   	PUSH	LC6
   423 00000534 50                              	PUSH	EAX
   424 00000535 E8 [00000000]                   	CALL	_sprintf
   425 0000053A 6A 0F                           	PUSH	15
   426 0000053C 6A 4F                           	PUSH	79
   427 0000053E 6A 00                           	PUSH	0
   428 00000540 6A 00                           	PUSH	0
   429 00000542 6A 0E                           	PUSH	14
   430 00000544 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   431 0000054B 50                              	PUSH	EAX
   432 0000054C FF B5 FFFFFCD8                  	PUSH	DWORD [-808+EBP]
   433 00000552 E8 [00000000]                   	CALL	_boxfill8
   434 00000557 8D 55 C4                        	LEA	EDX,DWORD [-60+EBP]
   435 0000055A 83 C4 2C                        	ADD	ESP,44
   436 0000055D 52                              	PUSH	EDX
   437 0000055E 6A 07                           	PUSH	7
   438 00000560 6A 00                           	PUSH	0
   439 00000562 6A 00                           	PUSH	0
   440 00000564 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   441 0000056B 50                              	PUSH	EAX
   442 0000056C FF B5 FFFFFCD8                  	PUSH	DWORD [-808+EBP]
   443 00000572 E8 [00000000]                   	CALL	_putfonts8_asc
   444 00000577 6A 10                           	PUSH	16
   445 00000579 6A 50                           	PUSH	80
   446 0000057B 6A 00                           	PUSH	0
   447 0000057D 6A 00                           	PUSH	0
   448 0000057F FF B5 FFFFFCE4                  	PUSH	DWORD [-796+EBP]
   449 00000585 E8 [00000000]                   	CALL	_sheet_refresh
   450 0000058A 83 C4 2C                        	ADD	ESP,44
   451 0000058D 57                              	PUSH	EDI
   452 0000058E FF B5 FFFFFCE8                  	PUSH	DWORD [-792+EBP]
   453 00000594 FF B5 FFFFFCE0                  	PUSH	DWORD [-800+EBP]
   454 0000059A E8 [00000000]                   	CALL	_sheet_slide
   455 0000059F 83 C4 0C                        	ADD	ESP,12
   456 000005A2 E9 FFFFFD6A                     	JMP	L2
   457 000005A7                                 L25:
   458 000005A7 31 FF                           	XOR	EDI,EDI
   459 000005A9 E9 FFFFFF53                     	JMP	L15
   460 000005AE                                 L24:
   461 000005AE C7 85 FFFFFCE8 00000000         	MOV	DWORD [-792+EBP],0
   462 000005B8 E9 FFFFFF3C                     	JMP	L14
   463 000005BD                                 L22:
   464 000005BD 68 [00000000]                   	PUSH	_keyfifo
   465 000005C2 E8 [00000000]                   	CALL	_fifo8_get
   466 000005C7 89 C3                           	MOV	EBX,EAX
   467 000005C9 E8 [00000000]                   	CALL	_io_sti
   468 000005CE 53                              	PUSH	EBX
   469 000005CF 8D 55 C4                        	LEA	EDX,DWORD [-60+EBP]
   470 000005D2 68 [00000054]                   	PUSH	LC4
   471 000005D7 8D 5D C4                        	LEA	EBX,DWORD [-60+EBP]
   472 000005DA 52                              	PUSH	EDX
   473 000005DB E8 [00000000]                   	CALL	_sprintf
   474 000005E0 6A 1F                           	PUSH	31
   475 000005E2 6A 0F                           	PUSH	15
   476 000005E4 6A 10                           	PUSH	16
   477 000005E6 6A 00                           	PUSH	0
   478 000005E8 6A 0E                           	PUSH	14
   479 000005EA 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   480 000005F1 50                              	PUSH	EAX
   481 000005F2 FF B5 FFFFFCD8                  	PUSH	DWORD [-808+EBP]
   482 000005F8 E8 [00000000]                   	CALL	_boxfill8
   483 000005FD 83 C4 2C                        	ADD	ESP,44
   484 00000600 53                              	PUSH	EBX
   485 00000601 6A 07                           	PUSH	7
   486 00000603 6A 10                           	PUSH	16
   487 00000605 6A 00                           	PUSH	0
   488 00000607 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   489 0000060E 50                              	PUSH	EAX
   490 0000060F FF B5 FFFFFCD8                  	PUSH	DWORD [-808+EBP]
   491 00000615 E8 [00000000]                   	CALL	_putfonts8_asc
   492 0000061A 6A 20                           	PUSH	32
   493 0000061C 6A 10                           	PUSH	16
   494 0000061E 6A 10                           	PUSH	16
   495 00000620 E9 FFFFFCDC                     	JMP	L20
   496 00000625                                 L21:
   497 00000625 E8 [00000000]                   	CALL	_io_sti
   498 0000062A E9 FFFFFCE2                     	JMP	L2
   499                                          [SECTION .data]
   500 00000059                                 _closebtn.0:
   501 00000059 4F 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"OOOOOOOOOOOOOOO@"
       00000063 4F 4F 4F 4F 4F 40 
   502 00000069 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       00000073 51 51 51 51 24 40 
   503 00000079 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       00000083 51 51 51 51 24 40 
   504 00000089 4F 51 51 51 40 40 51 51 51 51   	DB	"OQQQ@@QQQQ@@QQ$@"
       00000093 40 40 51 51 24 40 
   505 00000099 4F 51 51 51 51 40 40 51 51 40   	DB	"OQQQQ@@QQ@@QQQ$@"
       000000A3 40 51 51 51 24 40 
   506 000000A9 4F 51 51 51 51 51 40 40 40 40   	DB	"OQQQQQ@@@@QQQQ$@"
       000000B3 51 51 51 51 24 40 
   507 000000B9 4F 51 51 51 51 51 51 40 40 51   	DB	"OQQQQQQ@@QQQQQ$@"
       000000C3 51 51 51 51 24 40 
   508 000000C9 4F 51 51 51 51 51 40 40 40 40   	DB	"OQQQQQ@@@@QQQQ$@"
       000000D3 51 51 51 51 24 40 
   509 000000D9 4F 51 51 51 51 40 40 51 51 40   	DB	"OQQQQ@@QQ@@QQQ$@"
       000000E3 40 51 51 51 24 40 
   510 000000E9 4F 51 51 51 40 40 51 51 51 51   	DB	"OQQQ@@QQQQ@@QQ$@"
       000000F3 40 40 51 51 24 40 
   511 000000F9 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       00000103 51 51 51 51 24 40 
   512 00000109 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       00000113 51 51 51 51 24 40 
   513 00000119 4F 24 24 24 24 24 24 24 24 24   	DB	"O$$$$$$$$$$$$$$@"
       00000123 24 24 24 24 24 40 
   514 00000129 40 40 40 40 40 40 40 40 40 40   	DB	"@@@@@@@@@@@@@@@@"
       00000133 40 40 40 40 40 40 
   515                                          [SECTION .text]
   516 0000062F                                 	GLOBAL	_make_window8
   517 0000062F                                 _make_window8:
   518 0000062F 55                              	PUSH	EBP
   519 00000630 89 E5                           	MOV	EBP,ESP
   520 00000632 57                              	PUSH	EDI
   521 00000633 56                              	PUSH	ESI
   522 00000634 53                              	PUSH	EBX
   523 00000635 83 EC 14                        	SUB	ESP,20
   524 00000638 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   525 0000063B 6A 00                           	PUSH	0
   526 0000063D 8D 43 FF                        	LEA	EAX,DWORD [-1+EBX]
   527 00000640 8D 7B FE                        	LEA	EDI,DWORD [-2+EBX]
   528 00000643 50                              	PUSH	EAX
   529 00000644 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   530 00000647 6A 00                           	PUSH	0
   531 00000649 6A 00                           	PUSH	0
   532 0000064B 6A 08                           	PUSH	8
   533 0000064D 53                              	PUSH	EBX
   534 0000064E FF 75 08                        	PUSH	DWORD [8+EBP]
   535 00000651 E8 [00000000]                   	CALL	_boxfill8
   536 00000656 6A 01                           	PUSH	1
   537 00000658 57                              	PUSH	EDI
   538 00000659 6A 01                           	PUSH	1
   539 0000065B 6A 01                           	PUSH	1
   540 0000065D 6A 07                           	PUSH	7
   541 0000065F 53                              	PUSH	EBX
   542 00000660 FF 75 08                        	PUSH	DWORD [8+EBP]
   543 00000663 E8 [00000000]                   	CALL	_boxfill8
   544 00000668 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
   545 0000066B 83 C4 38                        	ADD	ESP,56
   546 0000066E 4A                              	DEC	EDX
   547 0000066F 89 55 E8                        	MOV	DWORD [-24+EBP],EDX
   548 00000672 52                              	PUSH	EDX
   549 00000673 6A 00                           	PUSH	0
   550 00000675 6A 00                           	PUSH	0
   551 00000677 6A 00                           	PUSH	0
   552 00000679 6A 08                           	PUSH	8
   553 0000067B 53                              	PUSH	EBX
   554 0000067C FF 75 08                        	PUSH	DWORD [8+EBP]
   555 0000067F E8 [00000000]                   	CALL	_boxfill8
   556 00000684 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   557 00000687 83 EE 02                        	SUB	ESI,2
   558 0000068A 56                              	PUSH	ESI
   559 0000068B 6A 01                           	PUSH	1
   560 0000068D 6A 01                           	PUSH	1
   561 0000068F 6A 01                           	PUSH	1
   562 00000691 6A 07                           	PUSH	7
   563 00000693 53                              	PUSH	EBX
   564 00000694 FF 75 08                        	PUSH	DWORD [8+EBP]
   565 00000697 E8 [00000000]                   	CALL	_boxfill8
   566 0000069C 83 C4 38                        	ADD	ESP,56
   567 0000069F 56                              	PUSH	ESI
   568 000006A0 57                              	PUSH	EDI
   569 000006A1 6A 01                           	PUSH	1
   570 000006A3 57                              	PUSH	EDI
   571 000006A4 6A 0F                           	PUSH	15
   572 000006A6 53                              	PUSH	EBX
   573 000006A7 FF 75 08                        	PUSH	DWORD [8+EBP]
   574 000006AA E8 [00000000]                   	CALL	_boxfill8
   575 000006AF FF 75 E8                        	PUSH	DWORD [-24+EBP]
   576 000006B2 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   577 000006B5 6A 00                           	PUSH	0
   578 000006B7 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   579 000006BA 6A 00                           	PUSH	0
   580 000006BC 53                              	PUSH	EBX
   581 000006BD FF 75 08                        	PUSH	DWORD [8+EBP]
   582 000006C0 E8 [00000000]                   	CALL	_boxfill8
   583 000006C5 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   584 000006C8 83 C4 38                        	ADD	ESP,56
   585 000006CB 83 E8 03                        	SUB	EAX,3
   586 000006CE 50                              	PUSH	EAX
   587 000006CF 8D 43 FD                        	LEA	EAX,DWORD [-3+EBX]
   588 000006D2 50                              	PUSH	EAX
   589 000006D3 6A 02                           	PUSH	2
   590 000006D5 6A 02                           	PUSH	2
   591 000006D7 6A 08                           	PUSH	8
   592 000006D9 53                              	PUSH	EBX
   593 000006DA FF 75 08                        	PUSH	DWORD [8+EBP]
   594 000006DD E8 [00000000]                   	CALL	_boxfill8
   595 000006E2 8D 43 FC                        	LEA	EAX,DWORD [-4+EBX]
   596 000006E5 6A 14                           	PUSH	20
   597 000006E7 50                              	PUSH	EAX
   598 000006E8 6A 03                           	PUSH	3
   599 000006EA 6A 03                           	PUSH	3
   600 000006EC 6A 0C                           	PUSH	12
   601 000006EE 53                              	PUSH	EBX
   602 000006EF FF 75 08                        	PUSH	DWORD [8+EBP]
   603 000006F2 E8 [00000000]                   	CALL	_boxfill8
   604 000006F7 83 C4 38                        	ADD	ESP,56
   605 000006FA 56                              	PUSH	ESI
   606 000006FB 57                              	PUSH	EDI
   607 000006FC 56                              	PUSH	ESI
   608 000006FD 6A 01                           	PUSH	1
   609 000006FF 6A 0F                           	PUSH	15
   610 00000701 53                              	PUSH	EBX
   611 00000702 FF 75 08                        	PUSH	DWORD [8+EBP]
   612 00000705 E8 [00000000]                   	CALL	_boxfill8
   613 0000070A FF 75 E8                        	PUSH	DWORD [-24+EBP]
   614 0000070D FF 75 EC                        	PUSH	DWORD [-20+EBP]
   615 00000710 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   616 00000713 6A 00                           	PUSH	0
   617 00000715 6A 00                           	PUSH	0
   618 00000717 6B F3 05                        	IMUL	ESI,EBX,5
   619 0000071A 53                              	PUSH	EBX
   620 0000071B FF 75 08                        	PUSH	DWORD [8+EBP]
   621 0000071E E8 [00000000]                   	CALL	_boxfill8
   622 00000723 83 C4 38                        	ADD	ESP,56
   623 00000726 FF 75 14                        	PUSH	DWORD [20+EBP]
   624 00000729 6A 07                           	PUSH	7
   625 0000072B 6A 04                           	PUSH	4
   626 0000072D 6A 18                           	PUSH	24
   627 0000072F 53                              	PUSH	EBX
   628 00000730 FF 75 08                        	PUSH	DWORD [8+EBP]
   629 00000733 E8 [00000000]                   	CALL	_putfonts8_asc
   630 00000738 83 C4 18                        	ADD	ESP,24
   631 0000073B C7 45 F0 00000000               	MOV	DWORD [-16+EBP],0
   632 00000742 C7 45 E0 00000000               	MOV	DWORD [-32+EBP],0
   633 00000749                                 L42:
   634 00000749 8D 04 1E                        	LEA	EAX,DWORD [ESI+EBX*1]
   635 0000074C 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   636 0000074F 31 FF                           	XOR	EDI,EDI
   637 00000751 8D 4C 02 EB                     	LEA	ECX,DWORD [-21+EDX+EAX*1]
   638 00000755                                 L41:
   639 00000755 8B 45 E0                        	MOV	EAX,DWORD [-32+EBP]
   640 00000758 8A 94 07 [00000059]             	MOV	DL,BYTE [_closebtn.0+EDI+EAX*1]
   641 0000075F 80 FA 40                        	CMP	DL,64
   642 00000762 74 33                           	JE	L47
   643 00000764 80 FA 24                        	CMP	DL,36
   644 00000767 74 2A                           	JE	L48
   645 00000769 80 FA 51                        	CMP	DL,81
   646 0000076C B2 08                           	MOV	DL,8
   647 0000076E 0F 95 C0                        	SETNE	AL
   648 00000771 28 C2                           	SUB	DL,AL
   649 00000773                                 L36:
   650 00000773 47                              	INC	EDI
   651 00000774 88 11                           	MOV	BYTE [ECX],DL
   652 00000776 41                              	INC	ECX
   653 00000777 83 FF 0F                        	CMP	EDI,15
   654 0000077A 7E D9                           	JLE	L41
   655 0000077C FF 45 F0                        	INC	DWORD [-16+EBP]
   656 0000077F 01 DE                           	ADD	ESI,EBX
   657 00000781 83 45 E0 10                     	ADD	DWORD [-32+EBP],16
   658 00000785 83 7D F0 0D                     	CMP	DWORD [-16+EBP],13
   659 00000789 7E BE                           	JLE	L42
   660 0000078B 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   661 0000078E 5B                              	POP	EBX
   662 0000078F 5E                              	POP	ESI
   663 00000790 5F                              	POP	EDI
   664 00000791 5D                              	POP	EBP
   665 00000792 C3                              	RET
   666 00000793                                 L48:
   667 00000793 B2 0F                           	MOV	DL,15
   668 00000795 EB DC                           	JMP	L36
   669 00000797                                 L47:
   670 00000797 31 D2                           	XOR	EDX,EDX
   671 00000799 EB D8                           	JMP	L36
