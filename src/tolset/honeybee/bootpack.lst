     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_init_gdtidt
     7 00000000                                 	EXTERN	_init_pic
     8 00000000                                 	EXTERN	_io_sti
     9 00000000                                 	EXTERN	_fifo32_init
    10 00000000                                 	EXTERN	_init_pit
    11 00000000                                 	EXTERN	_init_keyboard
    12 00000000                                 	EXTERN	_enable_mouse
    13 00000000                                 	EXTERN	_io_out8
    14 00000000                                 	EXTERN	_timer_alloc
    15 00000000                                 	EXTERN	_timer_init
    16 00000000                                 	EXTERN	_timer_settime
    17 00000000                                 	EXTERN	_memtest
    18 00000000                                 	EXTERN	_memman_init
    19 00000000                                 	EXTERN	_memman_free
    20 00000000                                 	EXTERN	_init_palette
    21 00000000                                 	EXTERN	_shtctl_init
    22 00000000                                 	EXTERN	_sheet_alloc
    23 00000000                                 	EXTERN	_memman_alloc_4k
    24 00000000                                 	EXTERN	_sheet_setbuf
    25 00000000                                 	EXTERN	_init_screen8
    26 00000000                                 	EXTERN	_init_mouse_cursor8
    27 00000000                                 	EXTERN	_sheet_slide
    28 00000000                                 	EXTERN	_sheet_updown
    29 00000000                                 	EXTERN	_sprintf
    30 00000000                                 	EXTERN	_memman_total
    31 00000000                                 	EXTERN	_io_cli
    32 00000000                                 	EXTERN	_fifo32_status
    33 00000000                                 	EXTERN	_fifo32_get
    34 00000000                                 	EXTERN	_boxfill8
    35 00000000                                 	EXTERN	_sheet_refresh
    36 00000000                                 	EXTERN	_mouse_decode
    37 00000000                                 	EXTERN	_putfonts8_asc
    38 00000000                                 [FILE "bootpack.c"]
    39                                          [SECTION .data]
    40 00000000                                 LC0:
    41 00000000 48 6F 6E 65 79 62 65 65 4F 53   	DB	"HoneybeeOS",0x00
       0000000A 00 
    42 0000000B                                 LC1:
    43 0000000B 28 25 64 2C 20 25 64 29 00      	DB	"(%d, %d)",0x00
    44 00000014                                 LC2:
    45 00000014 6D 65 6D 6F 72 79 20 25 64 4D   	DB	"memory %dMB   free : %dKB",0x00
       0000001E 42 20 20 20 66 72 65 65 20 3A 
       00000028 20 25 64 4B 42 00 
    46 0000002E                                 LC8:
    47 0000002E 33 5B 73 65 63 5D 00            	DB	"3[sec]",0x00
    48 00000035                                 LC6:
    49 00000035 31 30 5B 73 65 63 5D 00         	DB	"10[sec]",0x00
    50 0000003D                                 LC7:
    51 0000003D 25 30 31 30 64 00               	DB	"%010d",0x00
    52 00000043                                 LC4:
    53 00000043 5B 6C 63 72 20 25 34 64 20 25   	DB	"[lcr %4d %4d]",0x00
       0000004D 34 64 5D 00 
    54 00000051                                 LC5:
    55 00000051 28 25 33 64 2C 20 25 33 64 29   	DB	"(%3d, %3d)",0x00
       0000005B 00 
    56 0000005C                                 LC3:
    57 0000005C 25 30 32 58 00                  	DB	"%02X",0x00
    58                                          [SECTION .text]
    59 00000000                                 	GLOBAL	_HariMain
    60 00000000                                 _HariMain:
    61 00000000 55                              	PUSH	EBP
    62 00000001 89 E5                           	MOV	EBP,ESP
    63 00000003 57                              	PUSH	EDI
    64 00000004 56                              	PUSH	ESI
    65 00000005 53                              	PUSH	EBX
    66 00000006 8D 75 D4                        	LEA	ESI,DWORD [-44+EBP]
    67 00000009 81 EC 00000388                  	SUB	ESP,904
    68 0000000F C7 85 FFFFFC88 00000000         	MOV	DWORD [-888+EBP],0
    69 00000019 E8 [00000000]                   	CALL	_init_gdtidt
    70 0000001E E8 [00000000]                   	CALL	_init_pic
    71 00000023 E8 [00000000]                   	CALL	_io_sti
    72 00000028 8D 85 FFFFFDA4                  	LEA	EAX,DWORD [-604+EBP]
    73 0000002E 50                              	PUSH	EAX
    74 0000002F 68 00000080                     	PUSH	128
    75 00000034 56                              	PUSH	ESI
    76 00000035 E8 [00000000]                   	CALL	_fifo32_init
    77 0000003A E8 [00000000]                   	CALL	_init_pit
    78 0000003F 68 00000100                     	PUSH	256
    79 00000044 56                              	PUSH	ESI
    80 00000045 E8 [00000000]                   	CALL	_init_keyboard
    81 0000004A 8D 85 FFFFFD94                  	LEA	EAX,DWORD [-620+EBP]
    82 00000050 50                              	PUSH	EAX
    83 00000051 68 00000200                     	PUSH	512
    84 00000056 56                              	PUSH	ESI
    85 00000057 E8 [00000000]                   	CALL	_enable_mouse
    86 0000005C 83 C4 20                        	ADD	ESP,32
    87 0000005F 68 000000F8                     	PUSH	248
    88 00000064 6A 21                           	PUSH	33
    89 00000066 E8 [00000000]                   	CALL	_io_out8
    90 0000006B 68 000000EF                     	PUSH	239
    91 00000070 68 000000A1                     	PUSH	161
    92 00000075 E8 [00000000]                   	CALL	_io_out8
    93 0000007A E8 [00000000]                   	CALL	_timer_alloc
    94 0000007F 6A 0A                           	PUSH	10
    95 00000081 56                              	PUSH	ESI
    96 00000082 89 C3                           	MOV	EBX,EAX
    97 00000084 50                              	PUSH	EAX
    98 00000085 E8 [00000000]                   	CALL	_timer_init
    99 0000008A 68 000003E8                     	PUSH	1000
   100 0000008F 53                              	PUSH	EBX
   101 00000090 E8 [00000000]                   	CALL	_timer_settime
   102 00000095 83 C4 24                        	ADD	ESP,36
   103 00000098 E8 [00000000]                   	CALL	_timer_alloc
   104 0000009D 6A 03                           	PUSH	3
   105 0000009F 89 C3                           	MOV	EBX,EAX
   106 000000A1 56                              	PUSH	ESI
   107 000000A2 50                              	PUSH	EAX
   108 000000A3 E8 [00000000]                   	CALL	_timer_init
   109 000000A8 68 0000012C                     	PUSH	300
   110 000000AD 53                              	PUSH	EBX
   111 000000AE E8 [00000000]                   	CALL	_timer_settime
   112 000000B3 E8 [00000000]                   	CALL	_timer_alloc
   113 000000B8 6A 01                           	PUSH	1
   114 000000BA 56                              	PUSH	ESI
   115 000000BB 50                              	PUSH	EAX
   116 000000BC 89 85 FFFFFC90                  	MOV	DWORD [-880+EBP],EAX
   117 000000C2 E8 [00000000]                   	CALL	_timer_init
   118 000000C7 83 C4 20                        	ADD	ESP,32
   119 000000CA 6A 32                           	PUSH	50
   120 000000CC FF B5 FFFFFC90                  	PUSH	DWORD [-880+EBP]
   121 000000D2 E8 [00000000]                   	CALL	_timer_settime
   122 000000D7 68 BFFFFFFF                     	PUSH	-1073741825
   123 000000DC 68 00400000                     	PUSH	4194304
   124 000000E1 E8 [00000000]                   	CALL	_memtest
   125 000000E6 68 003C0000                     	PUSH	3932160
   126 000000EB 89 85 FFFFFC84                  	MOV	DWORD [-892+EBP],EAX
   127 000000F1 E8 [00000000]                   	CALL	_memman_init
   128 000000F6 68 0009E000                     	PUSH	647168
   129 000000FB 68 00001000                     	PUSH	4096
   130 00000100 68 003C0000                     	PUSH	3932160
   131 00000105 E8 [00000000]                   	CALL	_memman_free
   132 0000010A 8B 85 FFFFFC84                  	MOV	EAX,DWORD [-892+EBP]
   133 00000110 83 C4 20                        	ADD	ESP,32
   134 00000113 2D 00400000                     	SUB	EAX,4194304
   135 00000118 50                              	PUSH	EAX
   136 00000119 68 00400000                     	PUSH	4194304
   137 0000011E 68 003C0000                     	PUSH	3932160
   138 00000123 E8 [00000000]                   	CALL	_memman_free
   139 00000128 E8 [00000000]                   	CALL	_init_palette
   140 0000012D 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   141 00000134 50                              	PUSH	EAX
   142 00000135 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   143 0000013C 50                              	PUSH	EAX
   144 0000013D FF 35 00000FF8                  	PUSH	DWORD [4088]
   145 00000143 68 003C0000                     	PUSH	3932160
   146 00000148 E8 [00000000]                   	CALL	_shtctl_init
   147 0000014D 89 C3                           	MOV	EBX,EAX
   148 0000014F 50                              	PUSH	EAX
   149 00000150 E8 [00000000]                   	CALL	_sheet_alloc
   150 00000155 83 C4 20                        	ADD	ESP,32
   151 00000158 53                              	PUSH	EBX
   152 00000159 89 85 FFFFFC80                  	MOV	DWORD [-896+EBP],EAX
   153 0000015F E8 [00000000]                   	CALL	_sheet_alloc
   154 00000164 53                              	PUSH	EBX
   155 00000165 8D 9D FFFFFC94                  	LEA	EBX,DWORD [-876+EBP]
   156 0000016B 89 85 FFFFFC7C                  	MOV	DWORD [-900+EBP],EAX
   157 00000171 E8 [00000000]                   	CALL	_sheet_alloc
   158 00000176 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
   159 0000017D 89 85 FFFFFC78                  	MOV	DWORD [-904+EBP],EAX
   160 00000183 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   161 0000018A 0F AF C2                        	IMUL	EAX,EDX
   162 0000018D 50                              	PUSH	EAX
   163 0000018E 68 003C0000                     	PUSH	3932160
   164 00000193 E8 [00000000]                   	CALL	_memman_alloc_4k
   165 00000198 68 00002080                     	PUSH	8320
   166 0000019D 68 003C0000                     	PUSH	3932160
   167 000001A2 89 85 FFFFFC74                  	MOV	DWORD [-908+EBP],EAX
   168 000001A8 E8 [00000000]                   	CALL	_memman_alloc_4k
   169 000001AD 6A FF                           	PUSH	-1
   170 000001AF 89 C6                           	MOV	ESI,EAX
   171 000001B1 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   172 000001B8 50                              	PUSH	EAX
   173 000001B9 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   174 000001C0 50                              	PUSH	EAX
   175 000001C1 FF B5 FFFFFC74                  	PUSH	DWORD [-908+EBP]
   176 000001C7 FF B5 FFFFFC80                  	PUSH	DWORD [-896+EBP]
   177 000001CD E8 [00000000]                   	CALL	_sheet_setbuf
   178 000001D2 83 C4 2C                        	ADD	ESP,44
   179 000001D5 6A 63                           	PUSH	99
   180 000001D7 6A 10                           	PUSH	16
   181 000001D9 6A 10                           	PUSH	16
   182 000001DB 53                              	PUSH	EBX
   183 000001DC FF B5 FFFFFC7C                  	PUSH	DWORD [-900+EBP]
   184 000001E2 E8 [00000000]                   	CALL	_sheet_setbuf
   185 000001E7 6A FF                           	PUSH	-1
   186 000001E9 6A 34                           	PUSH	52
   187 000001EB 68 000000A0                     	PUSH	160
   188 000001F0 56                              	PUSH	ESI
   189 000001F1 FF B5 FFFFFC78                  	PUSH	DWORD [-904+EBP]
   190 000001F7 E8 [00000000]                   	CALL	_sheet_setbuf
   191 000001FC 83 C4 28                        	ADD	ESP,40
   192 000001FF 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   193 00000206 50                              	PUSH	EAX
   194 00000207 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   195 0000020E 50                              	PUSH	EAX
   196 0000020F FF B5 FFFFFC74                  	PUSH	DWORD [-908+EBP]
   197 00000215 E8 [00000000]                   	CALL	_init_screen8
   198 0000021A 6A 63                           	PUSH	99
   199 0000021C 53                              	PUSH	EBX
   200 0000021D BB 00000002                     	MOV	EBX,2
   201 00000222 E8 [00000000]                   	CALL	_init_mouse_cursor8
   202 00000227 68 [00000000]                   	PUSH	LC0
   203 0000022C 6A 34                           	PUSH	52
   204 0000022E 68 000000A0                     	PUSH	160
   205 00000233 56                              	PUSH	ESI
   206 00000234 E8 000003FA                     	CALL	_make_window8
   207 00000239 83 C4 24                        	ADD	ESP,36
   208 0000023C 6A 00                           	PUSH	0
   209 0000023E 6A 00                           	PUSH	0
   210 00000240 FF B5 FFFFFC80                  	PUSH	DWORD [-896+EBP]
   211 00000246 E8 [00000000]                   	CALL	_sheet_slide
   212 0000024B 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   213 00000252 8D 48 F0                        	LEA	ECX,DWORD [-16+EAX]
   214 00000255 89 C8                           	MOV	EAX,ECX
   215 00000257 99                              	CDQ
   216 00000258 F7 FB                           	IDIV	EBX
   217 0000025A 89 85 FFFFFC8C                  	MOV	DWORD [-884+EBP],EAX
   218 00000260 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   219 00000267 8D 48 D4                        	LEA	ECX,DWORD [-44+EAX]
   220 0000026A 89 C8                           	MOV	EAX,ECX
   221 0000026C 99                              	CDQ
   222 0000026D F7 FB                           	IDIV	EBX
   223 0000026F 50                              	PUSH	EAX
   224 00000270 89 C7                           	MOV	EDI,EAX
   225 00000272 FF B5 FFFFFC8C                  	PUSH	DWORD [-884+EBP]
   226 00000278 FF B5 FFFFFC7C                  	PUSH	DWORD [-900+EBP]
   227 0000027E 8D 5D A4                        	LEA	EBX,DWORD [-92+EBP]
   228 00000281 E8 [00000000]                   	CALL	_sheet_slide
   229 00000286 6A 48                           	PUSH	72
   230 00000288 6A 50                           	PUSH	80
   231 0000028A FF B5 FFFFFC78                  	PUSH	DWORD [-904+EBP]
   232 00000290 E8 [00000000]                   	CALL	_sheet_slide
   233 00000295 83 C4 24                        	ADD	ESP,36
   234 00000298 6A 00                           	PUSH	0
   235 0000029A FF B5 FFFFFC80                  	PUSH	DWORD [-896+EBP]
   236 000002A0 E8 [00000000]                   	CALL	_sheet_updown
   237 000002A5 6A 01                           	PUSH	1
   238 000002A7 FF B5 FFFFFC78                  	PUSH	DWORD [-904+EBP]
   239 000002AD E8 [00000000]                   	CALL	_sheet_updown
   240 000002B2 6A 02                           	PUSH	2
   241 000002B4 FF B5 FFFFFC7C                  	PUSH	DWORD [-900+EBP]
   242 000002BA E8 [00000000]                   	CALL	_sheet_updown
   243 000002BF 57                              	PUSH	EDI
   244 000002C0 FF B5 FFFFFC8C                  	PUSH	DWORD [-884+EBP]
   245 000002C6 68 [0000000B]                   	PUSH	LC1
   246 000002CB 53                              	PUSH	EBX
   247 000002CC E8 [00000000]                   	CALL	_sprintf
   248 000002D1 83 C4 28                        	ADD	ESP,40
   249 000002D4 6A 0A                           	PUSH	10
   250 000002D6 53                              	PUSH	EBX
   251 000002D7 6A 0E                           	PUSH	14
   252 000002D9 6A 07                           	PUSH	7
   253 000002DB 6A 00                           	PUSH	0
   254 000002DD 6A 00                           	PUSH	0
   255 000002DF FF B5 FFFFFC80                  	PUSH	DWORD [-896+EBP]
   256 000002E5 E8 000002C2                     	CALL	_putfonts8_asc_sht
   257 000002EA 68 003C0000                     	PUSH	3932160
   258 000002EF E8 [00000000]                   	CALL	_memman_total
   259 000002F4 C1 AD FFFFFC84 14               	SHR	DWORD [-892+EBP],20
   260 000002FB C1 E8 0A                        	SHR	EAX,10
   261 000002FE 89 04 24                        	MOV	DWORD [ESP],EAX
   262 00000301 FF B5 FFFFFC84                  	PUSH	DWORD [-892+EBP]
   263 00000307 68 [00000014]                   	PUSH	LC2
   264 0000030C 53                              	PUSH	EBX
   265 0000030D E8 [00000000]                   	CALL	_sprintf
   266 00000312 83 C4 2C                        	ADD	ESP,44
   267 00000315 6A 28                           	PUSH	40
   268 00000317 53                              	PUSH	EBX
   269 00000318 6A 0E                           	PUSH	14
   270 0000031A 6A 07                           	PUSH	7
   271 0000031C 6A 20                           	PUSH	32
   272 0000031E 6A 00                           	PUSH	0
   273 00000320 FF B5 FFFFFC80                  	PUSH	DWORD [-896+EBP]
   274 00000326                                 L27:
   275 00000326 E8 00000281                     	CALL	_putfonts8_asc_sht
   276 0000032B                                 L26:
   277 0000032B 83 C4 1C                        	ADD	ESP,28
   278 0000032E                                 L2:
   279 0000032E 8D 75 D4                        	LEA	ESI,DWORD [-44+EBP]
   280 00000331 FF 85 FFFFFC88                  	INC	DWORD [-888+EBP]
   281 00000337 E8 [00000000]                   	CALL	_io_cli
   282 0000033C 56                              	PUSH	ESI
   283 0000033D E8 [00000000]                   	CALL	_fifo32_status
   284 00000342 59                              	POP	ECX
   285 00000343 85 C0                           	TEST	EAX,EAX
   286 00000345 0F 84 00000257                  	JE	L29
   287 0000034B 56                              	PUSH	ESI
   288 0000034C E8 [00000000]                   	CALL	_fifo32_get
   289 00000351 89 C3                           	MOV	EBX,EAX
   290 00000353 E8 [00000000]                   	CALL	_io_sti
   291 00000358 5A                              	POP	EDX
   292 00000359 8D 83 FFFFFF00                  	LEA	EAX,DWORD [-256+EBX]
   293 0000035F 3D 000000FF                     	CMP	EAX,255
   294 00000364 0F 86 0000020B                  	JBE	L30
   295 0000036A 8D 83 FFFFFE00                  	LEA	EAX,DWORD [-512+EBX]
   296 00000370 3D 000000FF                     	CMP	EAX,255
   297 00000375 0F 86 000000F4                  	JBE	L31
   298 0000037B 83 FB 0A                        	CMP	EBX,10
   299 0000037E 0F 84 000000A4                  	JE	L32
   300 00000384 83 FB 03                        	CMP	EBX,3
   301 00000387 74 76                           	JE	L33
   302 00000389 83 FB 01                        	CMP	EBX,1
   303 0000038C 74 57                           	JE	L34
   304 0000038E 85 DB                           	TEST	EBX,EBX
   305 00000390 75 9C                           	JNE	L2
   306 00000392 6A 01                           	PUSH	1
   307 00000394 56                              	PUSH	ESI
   308 00000395 FF B5 FFFFFC90                  	PUSH	DWORD [-880+EBP]
   309 0000039B E8 [00000000]                   	CALL	_timer_init
   310 000003A0 6A 6F                           	PUSH	111
   311 000003A2 6A 0F                           	PUSH	15
   312 000003A4 6A 60                           	PUSH	96
   313 000003A6 6A 08                           	PUSH	8
   314 000003A8 6A 0E                           	PUSH	14
   315 000003AA                                 L28:
   316 000003AA 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   317 000003B1 50                              	PUSH	EAX
   318 000003B2 FF B5 FFFFFC74                  	PUSH	DWORD [-908+EBP]
   319 000003B8 E8 [00000000]                   	CALL	_boxfill8
   320 000003BD 83 C4 28                        	ADD	ESP,40
   321 000003C0 6A 32                           	PUSH	50
   322 000003C2 FF B5 FFFFFC90                  	PUSH	DWORD [-880+EBP]
   323 000003C8 E8 [00000000]                   	CALL	_timer_settime
   324 000003CD 6A 70                           	PUSH	112
   325 000003CF 6A 10                           	PUSH	16
   326 000003D1 6A 60                           	PUSH	96
   327 000003D3 6A 08                           	PUSH	8
   328 000003D5 FF B5 FFFFFC80                  	PUSH	DWORD [-896+EBP]
   329 000003DB E8 [00000000]                   	CALL	_sheet_refresh
   330 000003E0 E9 FFFFFF46                     	JMP	L26
   331 000003E5                                 L34:
   332 000003E5 6A 00                           	PUSH	0
   333 000003E7 56                              	PUSH	ESI
   334 000003E8 FF B5 FFFFFC90                  	PUSH	DWORD [-880+EBP]
   335 000003EE E8 [00000000]                   	CALL	_timer_init
   336 000003F3 6A 6F                           	PUSH	111
   337 000003F5 6A 0F                           	PUSH	15
   338 000003F7 6A 60                           	PUSH	96
   339 000003F9 6A 08                           	PUSH	8
   340 000003FB 6A 07                           	PUSH	7
   341 000003FD EB AB                           	JMP	L28
   342 000003FF                                 L33:
   343 000003FF 6A 06                           	PUSH	6
   344 00000401 68 [0000002E]                   	PUSH	LC8
   345 00000406 6A 0E                           	PUSH	14
   346 00000408 6A 07                           	PUSH	7
   347 0000040A 6A 50                           	PUSH	80
   348 0000040C 6A 00                           	PUSH	0
   349 0000040E FF B5 FFFFFC80                  	PUSH	DWORD [-896+EBP]
   350 00000414 E8 00000193                     	CALL	_putfonts8_asc_sht
   351 00000419 C7 85 FFFFFC88 00000000         	MOV	DWORD [-888+EBP],0
   352 00000423 E9 FFFFFF03                     	JMP	L26
   353 00000428                                 L32:
   354 00000428 6A 07                           	PUSH	7
   355 0000042A 8D 5D A4                        	LEA	EBX,DWORD [-92+EBP]
   356 0000042D 68 [00000035]                   	PUSH	LC6
   357 00000432 6A 0E                           	PUSH	14
   358 00000434 6A 07                           	PUSH	7
   359 00000436 6A 40                           	PUSH	64
   360 00000438 6A 00                           	PUSH	0
   361 0000043A FF B5 FFFFFC80                  	PUSH	DWORD [-896+EBP]
   362 00000440 E8 00000167                     	CALL	_putfonts8_asc_sht
   363 00000445 FF B5 FFFFFC88                  	PUSH	DWORD [-888+EBP]
   364 0000044B 68 [0000003D]                   	PUSH	LC7
   365 00000450 53                              	PUSH	EBX
   366 00000451 E8 [00000000]                   	CALL	_sprintf
   367 00000456 83 C4 28                        	ADD	ESP,40
   368 00000459 6A 0A                           	PUSH	10
   369 0000045B 53                              	PUSH	EBX
   370 0000045C 6A 08                           	PUSH	8
   371 0000045E 6A 00                           	PUSH	0
   372 00000460 6A 1C                           	PUSH	28
   373 00000462 6A 28                           	PUSH	40
   374 00000464 FF B5 FFFFFC78                  	PUSH	DWORD [-904+EBP]
   375 0000046A E9 FFFFFEB7                     	JMP	L27
   376 0000046F                                 L31:
   377 0000046F 0F B6 C3                        	MOVZX	EAX,BL
   378 00000472 50                              	PUSH	EAX
   379 00000473 8D 85 FFFFFD94                  	LEA	EAX,DWORD [-620+EBP]
   380 00000479 50                              	PUSH	EAX
   381 0000047A E8 [00000000]                   	CALL	_mouse_decode
   382 0000047F 5A                              	POP	EDX
   383 00000480 59                              	POP	ECX
   384 00000481 85 C0                           	TEST	EAX,EAX
   385 00000483 0F 84 FFFFFEA5                  	JE	L2
   386 00000489 FF B5 FFFFFD9C                  	PUSH	DWORD [-612+EBP]
   387 0000048F FF B5 FFFFFD98                  	PUSH	DWORD [-616+EBP]
   388 00000495 68 [00000043]                   	PUSH	LC4
   389 0000049A 8D 5D A4                        	LEA	EBX,DWORD [-92+EBP]
   390 0000049D 53                              	PUSH	EBX
   391 0000049E E8 [00000000]                   	CALL	_sprintf
   392 000004A3 83 C4 10                        	ADD	ESP,16
   393 000004A6 8B 85 FFFFFDA0                  	MOV	EAX,DWORD [-608+EBP]
   394 000004AC A9 00000001                     	TEST	EAX,1
   395 000004B1 74 04                           	JE	L11
   396 000004B3 C6 45 A5 4C                     	MOV	BYTE [-91+EBP],76
   397 000004B7                                 L11:
   398 000004B7 A9 00000002                     	TEST	EAX,2
   399 000004BC 74 04                           	JE	L12
   400 000004BE C6 45 A7 52                     	MOV	BYTE [-89+EBP],82
   401 000004C2                                 L12:
   402 000004C2 83 E0 04                        	AND	EAX,4
   403 000004C5 74 04                           	JE	L13
   404 000004C7 C6 45 A6 43                     	MOV	BYTE [-90+EBP],67
   405 000004CB                                 L13:
   406 000004CB 6A 0F                           	PUSH	15
   407 000004CD 53                              	PUSH	EBX
   408 000004CE 6A 0E                           	PUSH	14
   409 000004D0 6A 07                           	PUSH	7
   410 000004D2 6A 10                           	PUSH	16
   411 000004D4 6A 20                           	PUSH	32
   412 000004D6 FF B5 FFFFFC80                  	PUSH	DWORD [-896+EBP]
   413 000004DC E8 000000CB                     	CALL	_putfonts8_asc_sht
   414 000004E1 8B 85 FFFFFD98                  	MOV	EAX,DWORD [-616+EBP]
   415 000004E7 03 BD FFFFFD9C                  	ADD	EDI,DWORD [-612+EBP]
   416 000004ED 83 C4 1C                        	ADD	ESP,28
   417 000004F0 01 85 FFFFFC8C                  	ADD	DWORD [-884+EBP],EAX
   418 000004F6 78 71                           	JS	L35
   419 000004F8                                 L14:
   420 000004F8 85 FF                           	TEST	EDI,EDI
   421 000004FA 78 69                           	JS	L36
   422 000004FC                                 L15:
   423 000004FC 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
   424 00000503 48                              	DEC	EAX
   425 00000504 39 85 FFFFFC8C                  	CMP	DWORD [-884+EBP],EAX
   426 0000050A 7E 06                           	JLE	L16
   427 0000050C 89 85 FFFFFC8C                  	MOV	DWORD [-884+EBP],EAX
   428 00000512                                 L16:
   429 00000512 0F BF 05 00000FF6               	MOVSX	EAX,WORD [4086]
   430 00000519 48                              	DEC	EAX
   431 0000051A 39 C7                           	CMP	EDI,EAX
   432 0000051C 7E 02                           	JLE	L17
   433 0000051E 89 C7                           	MOV	EDI,EAX
   434 00000520                                 L17:
   435 00000520 57                              	PUSH	EDI
   436 00000521 FF B5 FFFFFC8C                  	PUSH	DWORD [-884+EBP]
   437 00000527 68 [00000051]                   	PUSH	LC5
   438 0000052C 53                              	PUSH	EBX
   439 0000052D E8 [00000000]                   	CALL	_sprintf
   440 00000532 6A 0A                           	PUSH	10
   441 00000534 53                              	PUSH	EBX
   442 00000535 6A 0E                           	PUSH	14
   443 00000537 6A 07                           	PUSH	7
   444 00000539 6A 00                           	PUSH	0
   445 0000053B 6A 00                           	PUSH	0
   446 0000053D FF B5 FFFFFC80                  	PUSH	DWORD [-896+EBP]
   447 00000543 E8 00000064                     	CALL	_putfonts8_asc_sht
   448 00000548 83 C4 2C                        	ADD	ESP,44
   449 0000054B 57                              	PUSH	EDI
   450 0000054C FF B5 FFFFFC8C                  	PUSH	DWORD [-884+EBP]
   451 00000552 FF B5 FFFFFC7C                  	PUSH	DWORD [-900+EBP]
   452 00000558 E8 [00000000]                   	CALL	_sheet_slide
   453 0000055D 83 C4 0C                        	ADD	ESP,12
   454 00000560 E9 FFFFFDC9                     	JMP	L2
   455 00000565                                 L36:
   456 00000565 31 FF                           	XOR	EDI,EDI
   457 00000567 EB 93                           	JMP	L15
   458 00000569                                 L35:
   459 00000569 C7 85 FFFFFC8C 00000000         	MOV	DWORD [-884+EBP],0
   460 00000573 EB 83                           	JMP	L14
   461 00000575                                 L30:
   462 00000575 50                              	PUSH	EAX
   463 00000576 8D 5D A4                        	LEA	EBX,DWORD [-92+EBP]
   464 00000579 68 [0000005C]                   	PUSH	LC3
   465 0000057E 53                              	PUSH	EBX
   466 0000057F E8 [00000000]                   	CALL	_sprintf
   467 00000584 6A 02                           	PUSH	2
   468 00000586 53                              	PUSH	EBX
   469 00000587 6A 0E                           	PUSH	14
   470 00000589 6A 07                           	PUSH	7
   471 0000058B 6A 10                           	PUSH	16
   472 0000058D 6A 00                           	PUSH	0
   473 0000058F FF B5 FFFFFC80                  	PUSH	DWORD [-896+EBP]
   474 00000595 E8 00000012                     	CALL	_putfonts8_asc_sht
   475 0000059A 83 C4 28                        	ADD	ESP,40
   476 0000059D E9 FFFFFD8C                     	JMP	L2
   477 000005A2                                 L29:
   478 000005A2 E8 [00000000]                   	CALL	_io_sti
   479 000005A7 E9 FFFFFD82                     	JMP	L2
   480 000005AC                                 	GLOBAL	_putfonts8_asc_sht
   481 000005AC                                 _putfonts8_asc_sht:
   482 000005AC 55                              	PUSH	EBP
   483 000005AD 89 E5                           	MOV	EBP,ESP
   484 000005AF 57                              	PUSH	EDI
   485 000005B0 56                              	PUSH	ESI
   486 000005B1 53                              	PUSH	EBX
   487 000005B2 83 EC 0C                        	SUB	ESP,12
   488 000005B5 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   489 000005B8 8B 7D 10                        	MOV	EDI,DWORD [16+EBP]
   490 000005BB 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   491 000005BE 8B 5D 14                        	MOV	EBX,DWORD [20+EBP]
   492 000005C1 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   493 000005C4 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   494 000005C7 8B 45 1C                        	MOV	EAX,DWORD [28+EBP]
   495 000005CA 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   496 000005CD 8D 47 0F                        	LEA	EAX,DWORD [15+EDI]
   497 000005D0 50                              	PUSH	EAX
   498 000005D1 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   499 000005D4 8B 75 20                        	MOV	ESI,DWORD [32+EBP]
   500 000005D7 0F BE DB                        	MOVSX	EBX,BL
   501 000005DA 8D 34 F0                        	LEA	ESI,DWORD [EAX+ESI*8]
   502 000005DD 8D 46 FF                        	LEA	EAX,DWORD [-1+ESI]
   503 000005E0 50                              	PUSH	EAX
   504 000005E1 57                              	PUSH	EDI
   505 000005E2 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   506 000005E5 0F B6 45 18                     	MOVZX	EAX,BYTE [24+EBP]
   507 000005E9 50                              	PUSH	EAX
   508 000005EA 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   509 000005ED FF 70 04                        	PUSH	DWORD [4+EAX]
   510 000005F0 FF 30                           	PUSH	DWORD [EAX]
   511 000005F2 E8 [00000000]                   	CALL	_boxfill8
   512 000005F7 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   513 000005FA 53                              	PUSH	EBX
   514 000005FB 57                              	PUSH	EDI
   515 000005FC FF 75 EC                        	PUSH	DWORD [-20+EBP]
   516 000005FF 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   517 00000602 FF 70 04                        	PUSH	DWORD [4+EAX]
   518 00000605 FF 30                           	PUSH	DWORD [EAX]
   519 00000607 E8 [00000000]                   	CALL	_putfonts8_asc
   520 0000060C 89 7D 10                        	MOV	DWORD [16+EBP],EDI
   521 0000060F 8D 47 10                        	LEA	EAX,DWORD [16+EDI]
   522 00000612 89 75 14                        	MOV	DWORD [20+EBP],ESI
   523 00000615 89 45 18                        	MOV	DWORD [24+EBP],EAX
   524 00000618 83 C4 34                        	ADD	ESP,52
   525 0000061B 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   526 0000061E 89 45 0C                        	MOV	DWORD [12+EBP],EAX
   527 00000621 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   528 00000624 89 45 08                        	MOV	DWORD [8+EBP],EAX
   529 00000627 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   530 0000062A 5B                              	POP	EBX
   531 0000062B 5E                              	POP	ESI
   532 0000062C 5F                              	POP	EDI
   533 0000062D 5D                              	POP	EBP
   534 0000062E E9 [00000000]                   	JMP	_sheet_refresh
   535                                          [SECTION .data]
   536 00000061                                 _closebtn.0:
   537 00000061 4F 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"OOOOOOOOOOOOOOO@"
       0000006B 4F 4F 4F 4F 4F 40 
   538 00000071 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       0000007B 51 51 51 51 24 40 
   539 00000081 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       0000008B 51 51 51 51 24 40 
   540 00000091 4F 51 51 51 40 40 51 51 51 51   	DB	"OQQQ@@QQQQ@@QQ$@"
       0000009B 40 40 51 51 24 40 
   541 000000A1 4F 51 51 51 51 40 40 51 51 40   	DB	"OQQQQ@@QQ@@QQQ$@"
       000000AB 40 51 51 51 24 40 
   542 000000B1 4F 51 51 51 51 51 40 40 40 40   	DB	"OQQQQQ@@@@QQQQ$@"
       000000BB 51 51 51 51 24 40 
   543 000000C1 4F 51 51 51 51 51 51 40 40 51   	DB	"OQQQQQQ@@QQQQQ$@"
       000000CB 51 51 51 51 24 40 
   544 000000D1 4F 51 51 51 51 51 40 40 40 40   	DB	"OQQQQQ@@@@QQQQ$@"
       000000DB 51 51 51 51 24 40 
   545 000000E1 4F 51 51 51 51 40 40 51 51 40   	DB	"OQQQQ@@QQ@@QQQ$@"
       000000EB 40 51 51 51 24 40 
   546 000000F1 4F 51 51 51 40 40 51 51 51 51   	DB	"OQQQ@@QQQQ@@QQ$@"
       000000FB 40 40 51 51 24 40 
   547 00000101 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       0000010B 51 51 51 51 24 40 
   548 00000111 4F 51 51 51 51 51 51 51 51 51   	DB	"OQQQQQQQQQQQQQ$@"
       0000011B 51 51 51 51 24 40 
   549 00000121 4F 24 24 24 24 24 24 24 24 24   	DB	"O$$$$$$$$$$$$$$@"
       0000012B 24 24 24 24 24 40 
   550 00000131 40 40 40 40 40 40 40 40 40 40   	DB	"@@@@@@@@@@@@@@@@"
       0000013B 40 40 40 40 40 40 
   551                                          [SECTION .text]
   552 00000633                                 	GLOBAL	_make_window8
   553 00000633                                 _make_window8:
   554 00000633 55                              	PUSH	EBP
   555 00000634 89 E5                           	MOV	EBP,ESP
   556 00000636 57                              	PUSH	EDI
   557 00000637 56                              	PUSH	ESI
   558 00000638 53                              	PUSH	EBX
   559 00000639 83 EC 14                        	SUB	ESP,20
   560 0000063C 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   561 0000063F 6A 00                           	PUSH	0
   562 00000641 8D 43 FF                        	LEA	EAX,DWORD [-1+EBX]
   563 00000644 8D 7B FE                        	LEA	EDI,DWORD [-2+EBX]
   564 00000647 50                              	PUSH	EAX
   565 00000648 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   566 0000064B 6A 00                           	PUSH	0
   567 0000064D 6A 00                           	PUSH	0
   568 0000064F 6A 08                           	PUSH	8
   569 00000651 53                              	PUSH	EBX
   570 00000652 FF 75 08                        	PUSH	DWORD [8+EBP]
   571 00000655 E8 [00000000]                   	CALL	_boxfill8
   572 0000065A 6A 01                           	PUSH	1
   573 0000065C 57                              	PUSH	EDI
   574 0000065D 6A 01                           	PUSH	1
   575 0000065F 6A 01                           	PUSH	1
   576 00000661 6A 07                           	PUSH	7
   577 00000663 53                              	PUSH	EBX
   578 00000664 FF 75 08                        	PUSH	DWORD [8+EBP]
   579 00000667 E8 [00000000]                   	CALL	_boxfill8
   580 0000066C 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
   581 0000066F 83 C4 38                        	ADD	ESP,56
   582 00000672 4A                              	DEC	EDX
   583 00000673 89 55 E8                        	MOV	DWORD [-24+EBP],EDX
   584 00000676 52                              	PUSH	EDX
   585 00000677 6A 00                           	PUSH	0
   586 00000679 6A 00                           	PUSH	0
   587 0000067B 6A 00                           	PUSH	0
   588 0000067D 6A 08                           	PUSH	8
   589 0000067F 53                              	PUSH	EBX
   590 00000680 FF 75 08                        	PUSH	DWORD [8+EBP]
   591 00000683 E8 [00000000]                   	CALL	_boxfill8
   592 00000688 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   593 0000068B 83 EE 02                        	SUB	ESI,2
   594 0000068E 56                              	PUSH	ESI
   595 0000068F 6A 01                           	PUSH	1
   596 00000691 6A 01                           	PUSH	1
   597 00000693 6A 01                           	PUSH	1
   598 00000695 6A 07                           	PUSH	7
   599 00000697 53                              	PUSH	EBX
   600 00000698 FF 75 08                        	PUSH	DWORD [8+EBP]
   601 0000069B E8 [00000000]                   	CALL	_boxfill8
   602 000006A0 83 C4 38                        	ADD	ESP,56
   603 000006A3 56                              	PUSH	ESI
   604 000006A4 57                              	PUSH	EDI
   605 000006A5 6A 01                           	PUSH	1
   606 000006A7 57                              	PUSH	EDI
   607 000006A8 6A 0F                           	PUSH	15
   608 000006AA 53                              	PUSH	EBX
   609 000006AB FF 75 08                        	PUSH	DWORD [8+EBP]
   610 000006AE E8 [00000000]                   	CALL	_boxfill8
   611 000006B3 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   612 000006B6 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   613 000006B9 6A 00                           	PUSH	0
   614 000006BB FF 75 EC                        	PUSH	DWORD [-20+EBP]
   615 000006BE 6A 00                           	PUSH	0
   616 000006C0 53                              	PUSH	EBX
   617 000006C1 FF 75 08                        	PUSH	DWORD [8+EBP]
   618 000006C4 E8 [00000000]                   	CALL	_boxfill8
   619 000006C9 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   620 000006CC 83 C4 38                        	ADD	ESP,56
   621 000006CF 83 E8 03                        	SUB	EAX,3
   622 000006D2 50                              	PUSH	EAX
   623 000006D3 8D 43 FD                        	LEA	EAX,DWORD [-3+EBX]
   624 000006D6 50                              	PUSH	EAX
   625 000006D7 6A 02                           	PUSH	2
   626 000006D9 6A 02                           	PUSH	2
   627 000006DB 6A 08                           	PUSH	8
   628 000006DD 53                              	PUSH	EBX
   629 000006DE FF 75 08                        	PUSH	DWORD [8+EBP]
   630 000006E1 E8 [00000000]                   	CALL	_boxfill8
   631 000006E6 8D 43 FC                        	LEA	EAX,DWORD [-4+EBX]
   632 000006E9 6A 14                           	PUSH	20
   633 000006EB 50                              	PUSH	EAX
   634 000006EC 6A 03                           	PUSH	3
   635 000006EE 6A 03                           	PUSH	3
   636 000006F0 6A 0C                           	PUSH	12
   637 000006F2 53                              	PUSH	EBX
   638 000006F3 FF 75 08                        	PUSH	DWORD [8+EBP]
   639 000006F6 E8 [00000000]                   	CALL	_boxfill8
   640 000006FB 83 C4 38                        	ADD	ESP,56
   641 000006FE 56                              	PUSH	ESI
   642 000006FF 57                              	PUSH	EDI
   643 00000700 56                              	PUSH	ESI
   644 00000701 6A 01                           	PUSH	1
   645 00000703 6A 0F                           	PUSH	15
   646 00000705 53                              	PUSH	EBX
   647 00000706 FF 75 08                        	PUSH	DWORD [8+EBP]
   648 00000709 E8 [00000000]                   	CALL	_boxfill8
   649 0000070E FF 75 E8                        	PUSH	DWORD [-24+EBP]
   650 00000711 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   651 00000714 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   652 00000717 6A 00                           	PUSH	0
   653 00000719 6A 00                           	PUSH	0
   654 0000071B 6B F3 05                        	IMUL	ESI,EBX,5
   655 0000071E 53                              	PUSH	EBX
   656 0000071F FF 75 08                        	PUSH	DWORD [8+EBP]
   657 00000722 E8 [00000000]                   	CALL	_boxfill8
   658 00000727 83 C4 38                        	ADD	ESP,56
   659 0000072A FF 75 14                        	PUSH	DWORD [20+EBP]
   660 0000072D 6A 07                           	PUSH	7
   661 0000072F 6A 04                           	PUSH	4
   662 00000731 6A 18                           	PUSH	24
   663 00000733 53                              	PUSH	EBX
   664 00000734 FF 75 08                        	PUSH	DWORD [8+EBP]
   665 00000737 E8 [00000000]                   	CALL	_putfonts8_asc
   666 0000073C 83 C4 18                        	ADD	ESP,24
   667 0000073F C7 45 F0 00000000               	MOV	DWORD [-16+EBP],0
   668 00000746 C7 45 E0 00000000               	MOV	DWORD [-32+EBP],0
   669 0000074D                                 L54:
   670 0000074D 8D 04 1E                        	LEA	EAX,DWORD [ESI+EBX*1]
   671 00000750 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   672 00000753 31 FF                           	XOR	EDI,EDI
   673 00000755 8D 4C 02 EB                     	LEA	ECX,DWORD [-21+EDX+EAX*1]
   674 00000759                                 L53:
   675 00000759 8B 45 E0                        	MOV	EAX,DWORD [-32+EBP]
   676 0000075C 8A 94 07 [00000061]             	MOV	DL,BYTE [_closebtn.0+EDI+EAX*1]
   677 00000763 80 FA 40                        	CMP	DL,64
   678 00000766 74 33                           	JE	L59
   679 00000768 80 FA 24                        	CMP	DL,36
   680 0000076B 74 2A                           	JE	L60
   681 0000076D 80 FA 51                        	CMP	DL,81
   682 00000770 B2 08                           	MOV	DL,8
   683 00000772 0F 95 C0                        	SETNE	AL
   684 00000775 28 C2                           	SUB	DL,AL
   685 00000777                                 L48:
   686 00000777 47                              	INC	EDI
   687 00000778 88 11                           	MOV	BYTE [ECX],DL
   688 0000077A 41                              	INC	ECX
   689 0000077B 83 FF 0F                        	CMP	EDI,15
   690 0000077E 7E D9                           	JLE	L53
   691 00000780 FF 45 F0                        	INC	DWORD [-16+EBP]
   692 00000783 01 DE                           	ADD	ESI,EBX
   693 00000785 83 45 E0 10                     	ADD	DWORD [-32+EBP],16
   694 00000789 83 7D F0 0D                     	CMP	DWORD [-16+EBP],13
   695 0000078D 7E BE                           	JLE	L54
   696 0000078F 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   697 00000792 5B                              	POP	EBX
   698 00000793 5E                              	POP	ESI
   699 00000794 5F                              	POP	EDI
   700 00000795 5D                              	POP	EBP
   701 00000796 C3                              	RET
   702 00000797                                 L60:
   703 00000797 B2 0F                           	MOV	DL,15
   704 00000799 EB DC                           	JMP	L48
   705 0000079B                                 L59:
   706 0000079B 31 D2                           	XOR	EDX,EDX
   707 0000079D EB D8                           	JMP	L48
